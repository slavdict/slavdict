<script type="text/html" id="editMeaning">
<section data-bind="if: ui.navigationStack.top.type() === 'Meaning'">
<div id="eM--editMeaning" class="grid" data-bind="with: ui.navigationStack.top">

    <label id="eM--metaphorical" data-bind="visible: $root.ui.hierarchy.usage">
        <input type="checkbox" data-bind="checked: metaphorical" />
        <span>Литургический символ</span>
    </label>

    <div id="eM--meaning">
        <label>Значение</label>
        <textarea id="eM--meaning" data-bind="value: meaning,
            valueUpdate: 'afterkeydown'"></textarea>
    </div>

    <div id="eM--gloss">
        <label>Пояснение</label>
        <textarea data-bind="value: gloss,
            valueUpdate: 'afterkeydown'"></textarea>
    </div>

    <div id="eM--substantivusGroup"
    data-bind="visible: $root.data.entry.part_of_speech() !==
    $root.ui.slugs.part_of_speech['noun']">

        <label id="eM--substantivus">
            <input type="checkbox" data-bind="checked: substantivus" />
            <span>В роли существительного</span>
        </label>

        <label id="eM--substantivusType" data-bind="visible: substantivus">
            <span>Тип субстантива</span>

            <select data-bind="options: $root.ui.choices.substantivus_type,
                value: substantivus_type, optionsText: 'name',
                optionsValue: 'id', visible: substantivus_type">
            </select>

            <div data-bind="visible: !substantivus_type()">
                {% for id, name in SUBSTANTIVUS_TYPES %}
                <label data-bind="css:
                { checked: substantivus_type() == '{{ id }}' }">

                    <input type="radio" name="substantivusType" value="{{ id }}"
                        data-bind="checked: substantivus_type"/>
                    <span>{{ name }}</span>

                </label>
                {% endfor %}
            </div>

        </label>

    </div>

</div>
</section>
</script>
