{% macro example(e, examples_loop, peer_meanings_loop) %}

<span class="entry-example">{{ e.example_ucs|cslav_words }}</span>
{{ space }}


{% if e.greek_equivs %}

    {% set COMMA = joiner(',') %}
    {% for ge in e.greek_equivs %}

        {% set ADDITIONAL_INFO = show_additional_info and ge.additional_info %}
        {% if ge.unitext or ADDITIONAL_INFO %}
            {{ backspace }}{{ COMMA() }}{{ space }}
        {% endif %}

        <span class="unigrec{% if ge.corrupted %} cinnabar{% endif %}">{{ ge.unitext }}</span>
        {{ space }}

        {% for x in (ge.mark, ge.source, ge.note)|reject('equalto', '') %}

            {% if loop.first %}
                <span>[</span>
            {% else %} {{ backspace }},{{ space }}
            {% endif %}

            <i>{{ x }}</i>
            {{ space }}

            {% if loop.last %}
                {{ backspace }}<span>]</span>{{ space }}
            {% endif %}

        {% endfor %}

    {% endfor %}

{% endif %}

{% if e.note %}
    {{ space }}
    <i>{{ e.note|cslav_injection }}</i>
{% endif %}

{% if e.address_text %}
    <span class="example-address">
        {{ e.address_text|cslav_injection }}
        {% if not examples_loop.last %}
            {{ backspace }};{{ space }}
        {% else %}
            {% if peer_meanings_loop.last or not parent_meanings_loop %}
                {{ backspace }}{{ onlyDot }}{{ space }}
            {% else %}
                {{ backspace }};{{ space }}
            {% endif %}
        {% endif %}
    </span>
{% endif %}


{% endmacro %}
{# vim: set ft=django.xml: #}
